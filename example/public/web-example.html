<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>React Native Audio Pro - Web Example</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 600px;
      width: 100%;
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
    }
    .player {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .controls {
      display: flex;
      gap: 10px;
      margin: 20px 0;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      background-color: #4285f4;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    button:hover {
      background-color: #3367d6;
    }
    button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
    .status {
      margin-bottom: 20px;
      font-size: 18px;
    }
    .progress {
      width: 100%;
      margin-top: 20px;
    }
    .progress-bar {
      width: 100%;
      height: 10px;
      background-color: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background-color: #4285f4;
      width: 0%;
      transition: width 0.5s;
    }
    .time-display {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
      font-size: 14px;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>React Native Audio Pro - Web Example</h1>
    <div class="player">
      <div class="status">Status: <span id="status">Stopped</span></div>
      <div class="controls">
        <button id="playBtn">Play</button>
        <button id="pauseBtn" disabled>Pause</button>
        <button id="stopBtn" disabled>Stop</button>
      </div>
      <div class="progress">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="time-display">
          <span id="currentTime">0:00</span>
          <span id="duration">0:00</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Elements
      const playBtn = document.getElementById('playBtn');
      const pauseBtn = document.getElementById('pauseBtn');
      const stopBtn = document.getElementById('stopBtn');
      const statusEl = document.getElementById('status');
      const progressFill = document.getElementById('progressFill');
      const currentTimeEl = document.getElementById('currentTime');
      const durationEl = document.getElementById('duration');
      
      // Audio
      const audio = new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3');
      let progressInterval = null;
      
      // Format time in MM:SS
      function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
      }
      
      // Update progress
      function updateProgress() {
        if (audio.duration) {
          const percent = (audio.currentTime / audio.duration) * 100;
          progressFill.style.width = `${percent}%`;
          currentTimeEl.textContent = formatTime(audio.currentTime);
          durationEl.textContent = formatTime(audio.duration);
        }
      }
      
      // Start progress updates
      function startProgressUpdates() {
        stopProgressUpdates();
        progressInterval = setInterval(updateProgress, 500);
      }
      
      // Stop progress updates
      function stopProgressUpdates() {
        if (progressInterval) {
          clearInterval(progressInterval);
          progressInterval = null;
        }
      }
      
      // Event listeners
      audio.addEventListener('loadedmetadata', () => {
        durationEl.textContent = formatTime(audio.duration);
      });
      
      audio.addEventListener('play', () => {
        statusEl.textContent = 'Playing';
        playBtn.disabled = true;
        pauseBtn.disabled = false;
        stopBtn.disabled = false;
        startProgressUpdates();
      });
      
      audio.addEventListener('pause', () => {
        statusEl.textContent = 'Paused';
        playBtn.disabled = false;
        pauseBtn.disabled = true;
        stopProgressUpdates();
      });
      
      audio.addEventListener('ended', () => {
        statusEl.textContent = 'Ended';
        playBtn.disabled = false;
        pauseBtn.disabled = true;
        stopBtn.disabled = true;
        stopProgressUpdates();
        progressFill.style.width = '100%';
      });
      
      // Button handlers
      playBtn.addEventListener('click', () => {
        audio.play().catch(error => {
          console.error('Error playing audio:', error);
          statusEl.textContent = 'Error: ' + error.message;
        });
      });
      
      pauseBtn.addEventListener('click', () => {
        audio.pause();
      });
      
      stopBtn.addEventListener('click', () => {
        audio.pause();
        audio.currentTime = 0;
        statusEl.textContent = 'Stopped';
        playBtn.disabled = false;
        pauseBtn.disabled = true;
        stopBtn.disabled = true;
        stopProgressUpdates();
        progressFill.style.width = '0%';
        currentTimeEl.textContent = '0:00';
      });
    });
  </script>
</body>
</html>
